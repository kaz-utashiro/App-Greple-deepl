# Greple -Mxlate module sample files

This directory contains an example of using Greple's -Mxlate module to automatically translate a file.

If you are reading this text in a language other than Japanese, it was generated by automatic translation using this system. Please be patient even if there are some strange points. If you are reading this in Japanese and you find something wrong, please be patient or point it out gently, because the author is not right in the head.

Simply place the document file to be translated and execute the make command to generate the necessary file. The following types of files are currently covered.

- `*.docx`, `*.pptx`, and `*.pptx`.
- `*.pptx`, `*.pptx`, and `*.txt`.
- `*.txt`
- `*.md`
- `*.pm`

## Generated files

If not specified, three types of files, `xtxt`, `cm`, and `ifdef`, will be generated for each target language.

For example, if you want to translate the file `Document.txt` into Japanese, three files named

    Document.txt.JA.xtxt
    Document.txt.JA.cm
    Document.txt.JA.ifdef

Three files will be generated: `cm`, `ifdef`, and `cm`. The `xtxt` file contains only the translated text, while the `cm` and `ifdef` files contain both the original and translated text.

## Control files

If the target file has a file with a specific extension, the translation process can be controlled by its contents. For example, if there is a file called `Document.txt.LANG` along with a file called `Document.txt`, the translation will be done in the language written in the file.

### .LANG

Specify the language to be translated.

### .FORMAT

Specify the translation format. Usually, you can specify one of `xtxt`, `cm`, or `ifdef`.

You can also use other formats, such as `md`, in which case the contents will be the same as for `xtxt`. If you generate a file ending with `.md`, it will also be translated next time, so you should use it carefully.

## translation process

The default behavior is to copy the text to be translated to the clipboard, and you will be prompted to process the translation; translate it using the DeepL application or web interface, copy the result back to the clipboard, and then press enter Please press enter.

### character limit

If you are running with a free account, you can only process up to 5000 characters at a time, so repeat this process until all text has been processed.

If you are using a paid account and there is no limit to the number of characters to process, set the variable `MAXLEN` to the upper limit and run.

    make MAXLEN=100000

### Using the DeepL API

To translate using the API, the `deepl` command must be installed. Set the variable `USEAPI` and run make.

    make USEAPI=yes

When using the API, the maximum number of characters is set to 128K. The authentication key is set in the environment variable `DEEPL_AUTH_KEY`. Set environment variables such as `DEEPL_SERVER_URL` if necessary.

## Variables used in make

### DEBUG

Turns on debug mode.

### MAXLEN

Set the maximum number of characters to process at one time.

### USEAPI

Translate using the DeepL API.
